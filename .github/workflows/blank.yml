name: Auto Create PR on Push

on:
  push:
    branches:
      - new-feature-branch2  # Push 감지 대상 브랜치

jobs:
  createPullRequest:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        with:
          ref: 'new-feature-branch2'  # 작업할 브랜치 명시

      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v6
        with:
          token: ${{ secrets.TARGET_REPO_TOKEN }}  # 인증 토큰 설정
          branch: 'new-feature-branch2'  # 작업할 브랜치
          base: 'main'  # PR의 대상이 될 기준 브랜치
          commit-message: "Integrate changes from new-feature-branch2"
          title: "Merge new features from new-feature-branch2 to main"
          body: "This is an auto-generated PR to merge changes from new-feature-branch2 into main."
          delete-branch: false  # PR 머지 후 브랜치 삭제 여부
